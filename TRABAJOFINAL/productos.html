<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestión de Productos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background-color: #f4f4f4;
        }
        
        h2 {
            color: #333;
            text-align: center;
        }
        
        .stats {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .stats span {
            font-weight: bold;
            color: #1976d2;
        }
        
        .filtros {
            background-color: #f5f5f5;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .filtro-grupo {
            margin: 10px 0;
        }
        
        label {
            display: inline-block;
            width: 120px;
            font-weight: bold;
        }
        
        input, select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 250px;
        }
        
        button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        
        button:hover {
            background-color: #45a049;
        }
        
        .btn-limpiar {
            background-color: #f44336;
        }
        
        .btn-limpiar:hover {
            background-color: #da190b;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: white;
        }
        
        th {
            background-color: #4CAF50;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
        
        .sin-resultados {
            text-align: center;
            padding: 20px;
            color: #999;
        }
    </style>
</head>
<body>
    <h2>Sistema de Gestión de Productos</h2>
    
    <div class="stats">
        Total de productos: <span id="totalProductos">0</span> | 
        Productos filtrados: <span id="productosFiltrados">0</span> | 
        Valor total stock: $<span id="valorTotal">0</span>
    </div>
    
    <div class="filtros">
        <h3>Filtros y Búsqueda</h3>
        
        <div class="filtro-grupo">
            <label>Buscar:</label>
            <input type="text" id="buscar" placeholder="Buscar por nombre...">
        </div>
        
        <div class="filtro-grupo">
            <label>Categoría:</label>
            <select id="categoria">
                <option value="todas">Todas las categorías</option>
                <option value="Electrónica">Electrónica</option>
                <option value="Ropa">Ropa</option>
                <option value="Alimentos">Alimentos</option>
                <option value="Hogar">Hogar</option>
            </select>
        </div>
        
        <div class="filtro-grupo">
            <label>Stock mínimo:</label>
            <input type="number" id="stockMinimo" value="0" min="0">
        </div>
        
        <div class="filtro-grupo">
            <label>Ordenar por:</label>
            <select id="ordenar">
                <option value="nombre_asc">Nombre (A-Z)</option>
                <option value="nombre_desc">Nombre (Z-A)</option>
                <option value="precio_asc">Precio (Menor a Mayor)</option>
                <option value="precio_desc">Precio (Mayor a Menor)</option>
                <option value="stock_asc">Stock (Menor a Mayor)</option>
                <option value="stock_desc">Stock (Mayor a Mayor)</option>
            </select>
        </div>
        
        <button id="aplicarFiltros">Aplicar Filtros</button>
        <button id="limpiarFiltros" class="btn-limpiar">Limpiar Filtros</button>
    </div>
    
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Categoría</th>
                <th>Precio</th>
                <th>Stock</th>
                <th>Valor Total</th>
            </tr>
        </thead>
        <tbody id="cuerpoTabla">
        </tbody>
    </table>
    
    <script>
        const productosOriginales = [
            { id: 1, nombre: "Laptop Dell", categoria: "Electrónica", precio: 45000, stock: 5 },
            { id: 2, nombre: "Mouse Logitech", categoria: "Electrónica", precio: 1500, stock: 25 },
            { id: 3, nombre: "Teclado Mecánico", categoria: "Electrónica", precio: 8000, stock: 15 },
            { id: 4, nombre: "Remera Nike", categoria: "Ropa", precio: 3500, stock: 50 },
            { id: 5, nombre: "Pantalón Levis", categoria: "Ropa", precio: 12000, stock: 30 },
            { id: 6, nombre: "Zapatillas Adidas", categoria: "Ropa", precio: 25000, stock: 20 },
            { id: 7, nombre: "Arroz 1kg", categoria: "Alimentos", precio: 800, stock: 100 },
            { id: 8, nombre: "Fideos", categoria: "Alimentos", precio: 600, stock: 150 },
            { id: 9, nombre: "Aceite", categoria: "Alimentos", precio: 1200, stock: 80 },
            { id: 10, nombre: "Lámpara LED", categoria: "Hogar", precio: 2500, stock: 40 },
            { id: 11, nombre: "Silla Gamer", categoria: "Hogar", precio: 35000, stock: 8 },
            { id: 12, nombre: "Monitor 24 pulgadas", categoria: "Electrónica", precio: 55000, stock: 3 }
        ];

        let productosFiltrados = [...productosOriginales];

        // FUNCIÓN 1: Mostrar productos en la tabla
        function mostrarProductos(productos) {
            // 1. Obtener el cuerpo de la tabla
            const cuerpo = document.getElementById("cuerpoTabla");
            // 2. Limpiar el contenido anterior
            cuerpo.innerHTML = "";
            // 3. Si no hay productos, mostrar mensaje
            if (productos.length === 0) {
                cuerpo.innerHTML = `
                    <tr>
                    <td colspan="6" style="text-align: center; color: red;">
                        No hay productos para mostrar.
                    </td>
                </tr>
            `;
            return; // Salimos de la función
            }
            // 4. Recorrer cada producto y crear una fila
            productos.forEach(producto => {
                // Creamos una fila vacía
                const fila = document.createElement("tr");
                // Le agregamos columnas con datos del producto
                fila.innerHTML = `
                    <td>${producto.id}</td>
                    <td>${producto.nombre}</td>
                    <td>${producto.categoria}</td>
                    <td>$${producto.precio}</td>
                    <td>${producto.stock}</td>
                    <td>$${producto.precio * producto.stock}</td>
                `;
                // Agregamos la fila al cuerpo de la tabla
                cuerpo.appendChild(fila);
            });

            // 5. Llamamos a la función que actualiza los totales
            actualizarEstadisticas(productos);
            console.log("TODO: mostrarProductos()");
        }

        // FUNCIÓN 2: Actualizar estadísticas
        function actualizarEstadisticas(productos) {
            // 1. Total de productos originales (sin filtrar)
            const total = productosOriginales.length;
            document.getElementById("totalProductos").textContent = total;
            // 2. Cantidad de productos que se están mostrando (filtrados)
            const filtrados = productos.length;
            document.getElementById("productosFiltrados").textContent = filtrados;

            // 3. Calcular el valor total del stock visible
            const valorTotal = productos.reduce((acum, prod) => {
                return acum + (prod.precio * prod.stock);
            }, 0);
            document.getElementById("valorTotal").textContent = valorTotal;
            console.log("TODO: actualizarEstadisticas()");
        }

        // FUNCIÓN 3: Aplicar filtros
        function aplicarFiltros() {
            // TODO: Implementar
            // 1. Obtener valores de los filtros
            // 2. Usar filter() sobre productosOriginales
            // 3. Guardar en productosFiltrados
            // 4. Llamar a ordenarProductos()
            
            console.log("TODO: aplicarFiltros()");
        }

        // FUNCIÓN 4: Ordenar productos
        function ordenarProductos() {
            // TODO: Implementar
            // 1. Obtener criterio de ordenamiento
            // 2. Usar sort() con switch/case
            // 3. Llamar a mostrarProductos()
            
            console.log("TODO: ordenarProductos()");
        }

        // FUNCIÓN 5: Limpiar filtros
        function limpiarFiltros() {
            // TODO: Implementar
            // 1. Resetear todos los inputs y selects
            // 2. Resetear productosFiltrados
            // 3. Llamar a mostrarProductos()
            
            console.log("TODO: limpiarFiltros()");
        }

        // EVENT LISTENERS
        // TODO: Agregar event listeners para los botones y el input de búsqueda

        // INICIALIZACIÓN
        // TODO: Llamar a mostrarProductos() al cargar la página
        // INICIALIZACIÓN
        mostrarProductos(productosFiltrados);

        console.log("Implementa las funciones para ver los productos");
    </script>
</body>
</html>